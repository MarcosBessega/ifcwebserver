#summary Developer's Guide

= Introduction =

This guide should help the users to start writing their extensions for IfcWebServer.

All what they need to know is how to deal with the following variables/methods:
{{{
#gloabl variables
$hash
$ifcObjects
$full_loading
#methods
toIfcObject
}}}

All code examples based on this sample data :
----
ISO-10303-21;<br/>
HEADER;<br/>
FILE_DESCRIPTION(('IFC WebServer 1.0 Beta',''),'2;1');<br/>
FILE_NAME('AC10-Institute-Var-1.ifc','',(''),(''),'','','');<br/>
FILE_SCHEMA(('IFC2X3_TC1'));<br/>
ENDSEC;<br/>
DATA;<br/>
#5= IFCAPPLICATION(#1,'10.0','ArchiCAD 10.0','ArchiCAD');<br/>
#6= IFCPERSON($,'Undefined',$,$,$,$,$,$);<br/>
#8= IFCORGANIZATION($,'OrganizationName',$,$,$);<br/>
#61= IFCCARTESIANPOINT((15.,0.,-2.5));<br/>
#65= IFCCARTESIANPOINT((0.,0.,-2.5));<br/>
#69= IFCCARTESIANPOINT((15.,-3.,-0.15));<br/>
#93= IFCPOLYLOOP((#61,#65,#69));<br/>
#97= IFCFACEOUTERBOUND(#93,.T.);<br/>
#100= IFCFACE((#97));<br/>
ENDSEC;<br/>
END-ISO-10303-21;<br/>
----

= Global variables=
*$hash*={} a  global hash variable.

It contains all lines of the ifc file

To get the data of any line you must provide the key as a string like this:
{{{
$hash["#100"] --> return  "#100= IFCFACE((#97));"
}}}

*$ifcObjects*={} a  global hash variable.

It contains a reference to all object instances which are already loaded.
{{{
if $ifcObjects[100] == nil
"#100".toIfcObject
end
puts $ifcObject[100].class.to_s ---> IFCFACE
puts $ifcObjects[100].bounds --> (#97)
}}}

*$full_loading* global variable (boolean )
default value = *true*

switching the value of this variable between true and false to ask the parser to load or not load all objects inside each line during parsing.

for example :
{{{
"#93".toIfcObject --> lines #61, #65, and #69 will be loaded automatically by default.
}}}


= Global  Methods =
The method *toIfcObject* can be used to load any object through it's line_id inside the IFC file.
This method extended the basic class "String", so you can easily write:

Load one object
{{{
"#100".toIfcObject
}}}


load many objects at once
{{{
"#61#65#69#93#97#100".toIfcObjects

or

$full_loading=true
"#100".toIfcObjects
the objects with IDs: #61 #65 #69 #93 #97 will be loaded automatically
}}}